<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TilePerfect [ALPHA]</title>
  </head>
  <body>
    <header class="topbar">
      <div style="display: flex; align-items: center; gap: 12px;">
        <img src="/logo.svg" alt="TilePerfect Logo" class="logo" />
        <div>
          <div class="title" data-i18n="app.title">TilePerfect [ALPHA]</div>
        </div>
      </div>

      <nav class="stepper">
        <button class="step active" data-step="setup">
          <span class="step-num">1</span>
          <span class="step-label" data-i18n="stepper.setup">Setup</span>
        </button>
        <button class="step" data-step="planning">
          <span class="step-num">2</span>
          <span class="step-label" data-i18n="stepper.planning">Planning</span>
        </button>
        <button class="step" data-step="commercial">
          <span class="step-num">3</span>
          <span class="step-label" data-i18n="stepper.commercial">Commercial</span>
        </button>
      </nav>

      <div style="display: flex; gap: 12px; align-items: center;">
        <div class="undo-controls">
          <button id="btnUndo" class="btn-icon" title="Undo (Ctrl+Z)" data-i18n-title="undo.undo">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 7v6h6"/>
              <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"/>
            </svg>
          </button>
          <button id="btnRedo" class="btn-icon" title="Redo (Ctrl+Y)" data-i18n-title="undo.redo">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 7v6h-6"/>
              <path d="M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7"/>
            </svg>
          </button>
        </div>
        <div class="autosave-indicator">
          <span class="dot"></span>
          <span data-i18n="app.autosave">Autosave</span>
        </div>
        
        <div class="global-menu">
          <button id="btnGlobalMenu" class="btn-icon" title="Menu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
          <div id="globalDropdown" class="dropdown-menu">
            <div class="dropdown-item-header" style="padding: 12px 16px; font-size: var(--fs-xs); color: var(--muted); text-transform: uppercase; letter-spacing: 0.05em;" data-i18n="project.title">Settings</div>
            <button id="btnSaveProjectGlobal" class="dropdown-item">
              <span class="icon">üíæ</span>
              <span data-i18n="project.save">Projekt speichern</span>
            </button>
            <button id="btnLoadProjectGlobal" class="dropdown-item">
              <span class="icon">üìÅ</span>
              <span data-i18n="project.load">Laden</span>
            </button>
            <div class="dropdown-divider"></div>
            <button id="btnExportGlobal" class="dropdown-item">
              <span class="icon">üì§</span>
              <span data-i18n="importExport.export">Export JSON</span>
            </button>
            <button id="btnImportGlobal" class="dropdown-item">
              <span class="icon">üì•</span>
              <span data-i18n="importExport.import">Import JSON</span>
            </button>
            <div class="dropdown-divider"></div>
            <div class="lang-picker" style="padding: 8px 16px;">
              <label data-i18n="language.select">Sprache:</label>
              <select id="langSelect">
                <option value="de" data-i18n="language.german">Deutsch</option>
                <option value="en" data-i18n="language.english">English</option>
              </select>
            </div>
            <div class="dropdown-divider"></div>
            <button id="btnResetGlobal" class="dropdown-item" style="color: #ff6b6b;">
              <span class="icon">‚ö†Ô∏è</span>
              <span data-i18n="session.reset">Alles zur√ºcksetzen</span>
            </button>
          </div>
        </div>
      </div>
    </header>

    <main class="layout">
      <section class="panel panel-nav">
        <div class="panel-header">
          <h3 class="section-title" id="stageTitle" data-i18n="stepper.setup">Setup</h3>
        </div>

        <div class="stage-panels">
          <!-- Setup Stage Panel -->
          <div class="stage-panel active" data-stage-panel="setup">
            <div class="section-card collapsible-card">
              <div class="section-header-collapsible" onclick="toggleCard(this)">
                <h3 class="section-title" data-i18n="tabs.title">Building</h3>
                <span class="collapse-toggle">‚ñº</span>
              </div>
              <div id="structureContent" class="card-content">
                <div class="grid2">
                  <div class="field span2">
                    <label data-i18n="tabs.floor">Etage</label>
                    <select id="floorSelect"></select>
                  </div>
                  <div class="field span2">
                    <label data-i18n="tabs.floorName">Etagenname</label>
                    <input id="floorName" type="text" />
                  </div>
                </div>
                <div class="btnrow">
                  <button id="btnAddFloor" class="btn" data-i18n="tabs.addFloor">Etage hinzuf√ºgen</button>
                  <button id="btnDeleteFloor" class="btn" data-i18n="tabs.deleteFloor">Etage l√∂schen</button>
                </div>
                <div class="grid2" style="margin-top: 1rem;">
                  <div class="field span2">
                    <label data-i18n="tabs.room">Raum</label>
                    <select id="roomSelect"></select>
                  </div>
                </div>
                <div class="btnrow">
                  <button id="btnAddRoom" class="btn" data-i18n="tabs.addRoom">Raum hinzuf√ºgen</button>
                  <button id="btnDeleteRoom" class="btn" data-i18n="tabs.deleteRoom">Raum l√∂schen</button>
                </div>
              </div>
            </div>

            <div class="section-card collapsible-card">
              <div class="section-header-collapsible" onclick="toggleCard(this)">
                <h3 class="section-title" data-i18n="room.sectionTitle">Fl√§che</h3>
                <span class="collapse-toggle">‚ñº</span>
              </div>
              <div id="roomDetailsContent" class="card-content">
                <div class="grid2">
                  <div class="field span2">
                    <label data-i18n="room.name">Raumname</label>
                    <input id="roomName" type="text" />
                  </div>
                </div>

                <div class="meta subtle" style="margin: 10px 0;">
                  <span data-i18n="room.sectionsHint">Add multiple sections to create non-rectangular rooms</span>
                </div>
                <div class="btnrow">
                  <button id="btnAddSection" class="btn" data-i18n="room.addSection">+ Add Section</button>
                </div>
                <div class="grid2" style="margin-top: 10px">
                  <div class="field span2">
                    <label data-i18n="room.sectionsList">Sections</label>
                    <select id="sectionsList" size="4"></select>
                  </div>
                </div>
                <div class="btnrow" style="margin-top: 10px">
                  <button id="btnDeleteSection" class="btn danger" data-i18n="room.deleteSection">Delete Section</button>
                </div>
                <hr style="margin: 16px 0; border: 0; border-top: 1px solid var(--line);" />
                <h4 style="font-size: var(--fs-sm); color: var(--muted); margin-bottom: 8px;" data-i18n="room.sectionProps">Section Properties</h4>
                <div id="sectionProps" class="grid2">
                  <div class="meta subtle span2" data-i18n="room.noSectionSelected">‚Äì no section selected ‚Äì</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Planning Stage Panel -->
          <div class="stage-panel" data-stage-panel="planning">
            <div class="section-card collapsible-card">
              <div class="section-header-collapsible" onclick="toggleCard(this)">
                <h3 class="section-title" data-i18n="tile.sectionTiles">Fliesen & Fuge</h3>
                <span class="collapse-toggle">‚ñº</span>
              </div>
              <div class="card-content">
                <div class="grid2">
                  <div class="field span2">
                    <label data-i18n="tile.reference">Referenz / Name</label>
                    <div class="input-with-icon">
                      <input id="tileReference" type="text" list="tileReferences" placeholder="z.B. Marmor Carrara" />
                      <svg class="input-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                        <polyline points="6 9 12 15 18 9"></polyline>
                      </svg>
                    </div>
                    <datalist id="tileReferences"></datalist>
                  </div>
                  <div class="field span2">
                    <label data-i18n="tile.shape">Tile Shape</label>
                    <select id="tileShape">
                      <option value="rect" data-i18n="tile.shapeRect">Rectangular</option>
                      <option value="square" data-i18n="tile.shapeSquare">Square</option>
                      <option value="hex" data-i18n="tile.shapeHex">Hexagonal</option>
                      <option value="rhombus" data-i18n="tile.shapeRhombus">Rhombus</option>
                    </select>
                  </div>
                  <div class="field">
                    <label data-i18n="tile.width">Fliese Breite (cm)</label>
                    <input id="tileW" type="number" min="0" step="0.1" />
                  </div>
                  <div class="field" id="tileHeightField">
                    <label data-i18n="tile.height">Fliese L√§nge (cm)</label>
                    <input id="tileH" type="number" min="0" step="0.1" />
                  </div>
                  <div class="field">
                    <label data-i18n="tile.grout">Fuge (cm)</label>
                    <input id="groutW" type="number" min="0" step="0.1" />
                  </div>
                  <div class="field">
                    <label data-i18n="tile.groutColor">Fugenfarbe</label>
                    <div class="color-picker-row">
                      <div class="color-presets" id="groutColorPresets">
                        <button type="button" class="color-swatch" data-color="#ffffff" style="background:#ffffff" title="White"></button>
                        <button type="button" class="color-swatch" data-color="#cccccc" style="background:#cccccc" title="Light Grey"></button>
                        <button type="button" class="color-swatch" data-color="#808080" style="background:#808080" title="Grey"></button>
                        <button type="button" class="color-swatch" data-color="#404040" style="background:#404040" title="Dark Grey"></button>
                        <button type="button" class="color-swatch" data-color="#000000" style="background:#000000" title="Black"></button>
                      </div>
                      <input id="groutColor" type="color" value="#ffffff" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="section-card collapsible-card">
              <div class="section-header-collapsible" onclick="toggleCard(this)">
                <h3 class="section-title" data-i18n="tile.sectionLayout">Fliesen Layout</h3>
                <span class="collapse-toggle">‚ñº</span>
              </div>
              <div class="card-content">
                <div class="grid2">
                  <div class="field" id="patternTypeField">
                    <label data-i18n="tile.pattern">Muster</label>
                    <select id="patternType">
                      <option value="grid" data-i18n="tile.patternGrid">Grid</option>
                      <option value="runningBond" data-i18n="tile.patternRunningBond">Running Bond</option>
                      <option value="herringbone" data-i18n="tile.patternHerringbone">Herringbone</option>
                      <option value="doubleHerringbone" data-i18n="tile.patternDoubleHerringbone">Double Herringbone</option>
                      <option value="basketweave" data-i18n="tile.patternBasketweave">Basketweave</option>
                      <option value="verticalStackAlternating" data-i18n="tile.patternVerticalStackAlternating">Vertical Stack Alternating</option>
                    </select>
                  </div>
                  <div class="field">
                    <label data-i18n="tile.rotation">Rotation (¬∞)</label>
                    <select id="rotationDeg">
                      <option value="0">0</option>
                      <option value="45">45</option>
                      <option value="90">90</option>
                      <option value="135">135</option>
                      <option value="180">180</option>
                      <option value="225">225</option>
                      <option value="270">270</option>
                      <option value="315">315</option>
                    </select>
                  </div>
                  <div class="field">
                    <label data-i18n="tile.bondFraction">Running Bond</label>
                    <select id="bondFraction">
                      <option value="0.5">1/2</option>
                      <option value="0.3333333333">1/3</option>
                      <option value="0.25">1/4</option>
                    </select>
                  </div>

                  <div class="field span2" style="margin-top: 8px; border-top: 1px solid var(--line); padding-top: 12px;">
                    <label data-i18n="origin.preset">Startpunkt Preset</label>
                    <select id="originPreset">
                      <option value="tl" data-i18n="origin.presetTL">oben links</option>
                      <option value="tr" data-i18n="origin.presetTR">oben rechts</option>
                      <option value="bl" data-i18n="origin.presetBL">unten links</option>
                      <option value="br" data-i18n="origin.presetBR">unten rechts</option>
                      <option value="center" data-i18n="origin.presetCenter">Mitte</option>
                      <option value="free" data-i18n="origin.presetFree">frei</option>
                    </select>
                  </div>
                  <div class="field">
                    <label data-i18n="origin.x">Start X (cm)</label>
                    <input id="originX" type="number" step="1" />
                  </div>
                  <div class="field">
                    <label data-i18n="origin.y">Start Y (cm)</label>
                    <input id="originY" type="number" step="1" />
                  </div>
                  <div class="field">
                    <label data-i18n="tile.offsetX">Offset X (cm)</label>
                    <input id="offsetX" type="number" step="1" />
                  </div>
                  <div class="field">
                    <label data-i18n="tile.offsetY">Offset Y (cm)</label>
                    <input id="offsetY" type="number" step="1" />
                  </div>
                  <div class="btnrow span2">
                    <button id="btnOffLeft" class="btn small">‚Üê 1cm</button>
                    <button id="btnOffRight" class="btn small">‚Üí 1cm</button>
                    <button id="btnOffUp" class="btn small">‚Üë 1cm</button>
                    <button id="btnOffDown" class="btn small">‚Üì 1cm</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="section-card collapsible-card">
              <div class="section-header-collapsible" onclick="toggleCard(this)">
                <h3 class="section-title" data-i18n="exclusions.title">Ausschl√ºsse</h3>
                <span class="collapse-toggle">‚ñº</span>
              </div>
              <div class="card-content hidden">
                <div class="btnrow">
                  <button id="btnAddRect" class="btn small" data-i18n="exclusions.addRect">+ Box</button>
                  <button id="btnAddCircle" class="btn small" data-i18n="exclusions.addCircle">+ Circle</button>
                  <button id="btnAddTri" class="btn small" data-i18n="exclusions.addTriangle">+ Tri</button>
                </div>
                <div class="field span2" style="margin-top: 12px;">
                  <label class="toggle-switch">
                    <span class="toggle-label" data-i18n="room.showGrid">Grid anzeigen</span>
                    <input id="showGrid" type="checkbox" />
                    <div class="toggle-slider"></div>
                  </label>
                </div>
                <div class="field span2">
                  <label class="toggle-switch">
                    <span class="toggle-label" data-i18n="skirting.showSkirting">Sockel anzeigen</span>
                    <input id="showSkirting" type="checkbox" />
                    <div class="toggle-slider"></div>
                  </label>
                </div>
                <div class="field span2">
                  <label class="toggle-switch">
                    <span class="toggle-label" data-i18n="removal.mode">Einzelne Fliesen entfernen</span>
                    <input id="removalMode" type="checkbox" />
                    <div class="toggle-slider"></div>
                  </label>
                </div>
                <div class="grid2" style="margin-top: 10px">
                  <div class="field span2">
                    <label data-i18n="exclusions.list">Exclusions List</label>
                    <select id="exclList" size="4"></select>
                  </div>
                </div>
                <div id="exclProps" class="grid2" style="margin-top: 10px;">
                  <!-- Dynamic properties -->
                </div>
              </div>
            </div>

            <div class="section-card collapsible-card">
              <div class="section-header-collapsible" onclick="toggleCard(this)">
                <h3 class="section-title" data-i18n="skirting.title">Sockelleisten</h3>
                <span class="collapse-toggle">‚ñº</span>
              </div>
              <div class="card-content hidden">
                <div class="grid2">
                  <div class="field span2">
                    <label data-i18n="skirting.type">Art der Sockelleiste</label>
                    <select id="skirtingType">
                      <option value="cutout" data-i18n="skirting.typeCutout">Selbst geschnitten (aus Fliesen)</option>
                      <option value="bought" data-i18n="skirting.typeBought">Fertig gekauft (St√ºck)</option>
                    </select>
                  </div>
                  <div class="field span2">
                    <label data-i18n="skirting.height">H√∂he Sockelleiste (cm)</label>
                    <input id="skirtingHeight" type="number" step="0.1" />
                  </div>
                  <div class="field" id="boughtWidthWrap">
                    <label data-i18n="skirting.boughtWidth">L√§nge pro St√ºck (cm)</label>
                    <input id="skirtingBoughtWidth" type="number" step="0.1" />
                  </div>
                  <div class="field" id="boughtPriceWrap">
                    <label data-i18n="skirting.pricePerPiece">Preis pro St√ºck (‚Ç¨)</label>
                    <input id="skirtingPricePerPiece" type="number" step="0.01" />
                  </div>
                </div>
              </div>
            </div>

            <div class="section-card collapsible-card">
              <div class="section-header-collapsible" onclick="toggleCard(this)">
                <h3 class="section-title" data-i18n="tile.sectionPricing">Verschnitt & Mehr</h3>
                <span class="collapse-toggle">‚ñº</span>
              </div>
              <div class="card-content hidden">
                <div class="grid2">
                  <div class="field">
                    <label data-i18n="pricing.reserve">Reserve (Fliesen)</label>
                    <input id="reserveTiles" type="number" step="1" min="0" />
                  </div>
                  <div class="field">
                    <label data-i18n="waste.kerfWidth">Schnitt (cm)</label>
                    <input id="wasteKerfCm" type="number" min="0" step="0.1" />
                  </div>
                  <div class="field span2">
                    <label class="toggle-switch">
                      <span class="toggle-label" data-i18n="waste.allowRotate">Restst√ºcke drehen</span>
                      <input id="wasteAllowRotate" type="checkbox" checked />
                      <div class="toggle-slider"></div>
                    </label>
                  </div>
                  <div class="field span2">
                    <label class="toggle-switch">
                      <span class="toggle-label" data-i18n="waste.optimizeCuts">Verschnitt optimieren</span>
                      <input id="wasteOptimizeCuts" type="checkbox" />
                      <div class="toggle-slider"></div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Commercial Stage Panel -->
          <div class="stage-panel" data-stage-panel="commercial">
            <div class="section-card">
              <div class="card-content">
                <div class="meta subtle" data-i18n="commercial.hint">Detaillierte √úbersicht im Hauptfenster</div>
                <button id="btnExportCommercialSidebar" class="btn primary" style="width: 100%; margin-top: 12px;">
                  <span data-i18n="commercial.export">√úbersicht exportieren</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <div class="resize-handle"></div>

      <section class="viewer">
        <div class="viewer-tabs">
          <button class="viewer-tab active" data-main-tab="plan" data-i18n="plan.title">Plan (SVG)</button>
          <button class="viewer-tab" data-main-tab="commercial" data-i18n="tabs.commercial">Kommerziell</button>
        </div>

        <div class="main-tab-panel active" data-main-panel="plan">
          <div id="warningsWrapper" style="display: none;">
            <div class="viewerHead">
              <h2 data-i18n="warnings.title">Warnungen</h2>
              <div class="pill" id="warnPill">0</div>
            </div>
            <div id="warnings" class="warnings"></div>
          </div>

          <div class="viewerHead">
            <h2 id="planTitle" data-i18n="plan.title">Plan (SVG)</h2>
            <div class="btnrow">
              <button id="btnFullscreen" class="btn small" title="Fullscreen View">‚õ∂</button>
            </div>
          </div>

          <div class="svgWrap">
            <svg id="planSvg" xmlns="http://www.w3.org/2000/svg"></svg>
          </div>

          <div class="tip-section">
            <div class="tip-header">
              <span class="tip-icon">üí°</span>
              <span class="tip-title" data-i18n="plan.hintTitle">Tipp</span>
            </div>
            <div class="tip-content" data-i18n="plan.hint">
              Klick w√§hlt aus ‚Ä¢ Drag verschiebt
            </div>
          </div>
        </div>

        <div class="main-tab-panel" data-main-panel="commercial">
          <div class="commercial-view">
            <div class="section-card">
              <div class="section-header">
                <h3 class="section-title" data-i18n="commercial.rooms">Raum√ºbersicht</h3>
              </div>
              <div class="card-content">
                <div id="commercialRoomsList" class="commercial-list">
                  <!-- Will be populated by render.js -->
                </div>
              </div>
            </div>

            <div class="section-card">
              <div class="section-header">
                <h3 class="section-title" data-i18n="commercial.materials">Zusammengefasste Materialien</h3>
              </div>
              <div class="card-content">
                <div id="commercialMaterialsList" class="commercial-list">
                  <!-- Will be populated by render.js -->
                </div>
              </div>
            </div>

            <div class="section-card">
              <div class="card-content">
                <button id="btnExportCommercial" class="btn primary" style="width: 100%;">
                  <span data-i18n="commercial.export">√úbersicht exportieren</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <div class="resize-handle"></div>

      <section class="panel panel-info">
        <div class="panel-header">
          <h3 class="section-title" data-i18n="metrics.title">Berechnung</h3>
          <button class="btn-collapse" id="collapseInfo" title="Toggle Info">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
        <div id="metrics" class="metrics-panel">
          <div>
            <div class="metrics-section-title" data-i18n="metrics.title">Calculation</div>
            <div class="metric-grid">
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.netArea">Fl√§che:</div>
                <div class="metric-value" id="metricArea">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.totalTiles">Fliesen:</div>
                <div class="metric-value" id="metricTiles">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.tilePacks">Tile Packs:</div>
                <div class="metric-value" id="metricPacks">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.price">Kosten:</div>
                <div class="metric-value" id="metricCost">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.cutTiles">Cut tiles:</div>
                <div class="metric-value" id="metricCutTiles">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.waste">Waste (purchase):</div>
                <div class="metric-value" id="metricWaste">‚Äì</div>
              </div>
            </div>
          </div>

          <!-- Skirting Metrics -->
          <div id="skirtingMetricsBox" style="display: none;">
            <div class="metrics-section-title" data-i18n="skirting.title">Skirting</div>
            <div class="metric-grid">
              <div class="metric-item">
                <div class="metric-label" data-i18n="skirting.totalLength">Total length:</div>
                <div class="metric-value" id="metricSkirtingLength">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" id="labelSkirtingPieces" data-i18n="skirting.pieces">Pieces:</div>
                <div class="metric-value" id="metricSkirtingCount">‚Äì</div>
              </div>
              <div class="metric-item" id="stripsPerTileWrap">
                <div class="metric-label" data-i18n="skirting.stripsPerTile">Strips / Tile:</div>
                <div class="metric-value" id="metricSkirtingStripsPerTile">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.price">Price:</div>
                <div class="metric-value" id="metricSkirtingCost">‚Äì</div>
              </div>
            </div>
          </div>

          <!-- Grand Total -->
          <div id="grandTotalBox" class="metric-total" style="display: none;">
            <div class="metrics-section-title" data-i18n="metrics.grandTotal">Grand Total</div>
            <div class="metric-grid">
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.totalTilesToOrder">Total tiles:</div>
                <div class="metric-value" id="metricGrandTotalTiles">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.totalPacksToOrder">Total packs:</div>
                <div class="metric-value" id="metricGrandTotalPacks">‚Äì</div>
              </div>
              <div class="metric-item">
                <div class="metric-label" data-i18n="metrics.totalCostToOrder">Total cost:</div>
                <div class="metric-value" id="metricGrandTotalCost">‚Äì</div>
              </div>
            </div>
          </div>

        </div>
      </section>
    </main>

    <script>
      function toggleCard(header) {
        const card = header.closest('.collapsible-card');
        const content = card.querySelector('.card-content');
        const toggle = header.querySelector('.collapse-toggle');
        const isHidden = content.classList.toggle('hidden');
        if (toggle) {
          toggle.style.transform = isHidden ? 'rotate(0deg)' : 'rotate(180deg)';
        }
      }
    </script>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
